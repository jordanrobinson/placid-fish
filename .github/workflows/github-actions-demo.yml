name: CI and push to Clojars
run-name: Running linting and tests, then pushing to clojars ğŸš€
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v1
      - uses: ruby/setup-ruby@ec02537da5712d66d4d50a0f33b7eb52773b5ed1
      - run: ${{ github.workspace }}/go library:check

  test:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v1
      - uses: ruby/setup-ruby@ec02537da5712d66d4d50a0f33b7eb52773b5ed1
      - run: ${{ github.workspace }}/go library:test:unit
